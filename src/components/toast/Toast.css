:root {
  /* Fallbacks; these can be overridden by your design tokens */
  --aui-toast-bg: #0b1220;
  --aui-toast-fg: #e5e7eb;
  --aui-toast-muted: #94a3b8;
  --aui-toast-border: rgba(148,163,184,.3);

  --aui-color-accent: #2563eb;  /* fallback accent */
  --aui-color-success: #16a34a;
  --aui-color-warning: #d97706;
  --aui-color-danger:  #dc2626;
}

.aui-toast-viewport {
  position: fixed;
  z-index: 200;
  display: grid;
  gap: 10px;
  width: min(480px, 92vw);
  pointer-events: none;
}

.pos-top-right    { top: 12px; right: 12px; justify-items: end; }
.pos-top-center   { top: 12px; left: 50%; transform: translateX(-50%); }
.pos-top-left     { top: 12px; left: 12px; }
.pos-bottom-right { bottom: 12px; right: 12px; justify-items: end; }
.pos-bottom-center{ bottom: 12px; left: 50%; transform: translateX(-50%); }
.pos-bottom-left  { bottom: 12px; left: 12px; }

.aui-toast {
  pointer-events: auto;
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: 1fr auto;
  align-items: start;
  gap: 10px;
  padding: 12px 12px 14px;
  border-radius: 12px;
  background: var(--aui-toast-bg);
  color: var(--aui-toast-fg);
  border: 1px solid var(--aui-toast-border);
  box-shadow: 0 10px 40px rgba(2,6,23,.35);
  animation: toast-in .18s ease both;
  position: relative;
  overflow: hidden;
}

@media (prefers-reduced-motion: reduce) {
  .aui-toast { animation: none; }
}

@keyframes toast-in {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}

.aui-toast__title { font-weight: 600; }
.aui-toast__desc  { color: var(--aui-toast-muted); }

.aui-toast__actions { display: flex; gap: 6px; }
.aui-toast__btn {
  height: 28px; padding: 0 10px;
  border-radius: 8px; border: 1px solid rgba(255,255,255,.18);
  background: transparent; color: inherit; cursor: pointer;
}
.aui-toast__btn--action { border-color: rgba(255,255,255,.28); }
.aui-toast__btn--close  { width: 28px; padding: 0; }

/* Variants */
.aui-toast.is-success { --aui-toast-border: rgba(16,185,129,.35); }
.aui-toast.is-warning { --aui-toast-border: rgba(251,191,36,.35); }
.aui-toast.is-danger  { --aui-toast-border: rgba(239,68,68,.35); }

/* Light theme fallback if page is light */
body:not(.dark) .aui-toast {
  --aui-toast-bg:#fff; --aui-toast-fg:#0f172a; --aui-toast-muted:#475569; --aui-toast-border:#e2e8f0;
}

/* Progress bar (bottom) */
.aui-toast__progress {
  position: absolute; left: 0; right: 0; bottom: 0;
  height: 3px;
  background: var(--aui-toast-progress, var(--aui-color-accent));
  transform-origin: left center;
  animation: toast-progress var(--aui-toast-dur, 4000ms) linear both;
}
.aui-toast.is-success .aui-toast__progress { --aui-toast-progress: var(--aui-color-success); }
.aui-toast.is-warning .aui-toast__progress { --aui-toast-progress: var(--aui-color-warning); }
.aui-toast.is-danger  .aui-toast__progress { --aui-toast-progress: var(--aui-color-danger); }

@keyframes toast-progress {
  from { transform: scaleX(1); }
  to   { transform: scaleX(0); }
}

/* Pause the progress animation on hover/drag */
.aui-toast.is-hover .aui-toast__progress,
.aui-toast.is-dragging .aui-toast__progress { animation-play-state: paused; }

/* Swipe-to-dismiss feel */
.aui-toast.is-dragging { transition: none; }
